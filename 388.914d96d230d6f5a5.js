"use strict";(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[388],{2388:(j,m,r)=>{r.r(m),r.d(m,{DashboardModule:()=>P});var u=r(6895),p=r(3599),h=r(9019),t=r(1571),C=r(4691),D=r(4383),y=r(4054),f=r(7918),b=r(5804),v=r(1077);function S(a,n){if(1&a&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div")(3,"div",16)(4,"div",17)(5,"div",18),t._UZ(6,"app-feather-icon",19),t.qZA()(),t.TgZ(7,"div",20)(8,"span",21),t._uU(9),t.qZA(),t.TgZ(10,"h3",22),t._uU(11,"\u20b9 "),t._UZ(12,"span",23),t.TgZ(13,"small"),t._uU(14,"This Year"),t.qZA()()()()()()()),2&a){const o=n.$implicit,e=t.oxw();t.xp6(2),t.Tol(o.bgColorClass),t.xp6(4),t.Tol(o.fontColorClass),t.Q6J("icon",o.icon),t.xp6(3),t.Oqu(o.title),t.xp6(3),t.Q6J("CountTo",o.count)("from",e.count.from)("duration",e.count.duration)}}function A(a,n){if(1&a&&t._UZ(0,"google-chart",24),2&a){const o=t.oxw();t.Q6J("data",o.orderStatusChart)}}const T=[{path:"default",component:(()=>{class a{constructor(o,e){this._httpService=o,this._toastr=e,this.count={from:0,duration:1},this.objCountData=[{bgColorClass:"bg-warning card-body",fontColorClass:"font-warning",icon:"navigation",title:"Orders",count:0},{bgColorClass:"bg-secondary card-body",fontColorClass:"font-secondary",icon:"box",title:"Shipping Amount",count:0},{bgColorClass:"bg-primary card-body",fontColorClass:"font-primary",icon:"message-square",title:"Cash On Delivery",count:0},{bgColorClass:"bg-danger card-body",fontColorClass:"font-danger",icon:"users",title:"Cancelled",count:0}],this.settings={actions:!1,hideSubHeader:!0,columns:{orderId:{title:"Order Id"},orderStatus:{title:"Order Status",type:"html"},paymentDate:{title:"Payment Date"},paymentMethod:{title:"Payment Method"},paymentStatus:{title:"Payment Status",type:"html"},shippingAmount:{title:"Shipping Amount"},subTotalAmount:{title:"SubTotal Amount"},totalAmount:{title:"Total Amount"}}},this.orders=[]}ngOnInit(){this.getNetFigure(),this.getOrdersData(),this.GetOrderStatusChart()}getOrdersData(){this._httpService.get(h.N.BASE_API_PATH+"PaymentMaster/GetReportManageOrder").subscribe(o=>{o.isSuccess?this.orders=o.data:this._toastr.error(o.errors[0],"Dashboard")})}getNetFigure(){this._httpService.get(h.N.BASE_API_PATH+"PaymentMaster/GetReportNetFigure").subscribe(o=>{o.isSuccess?(this.objCountData[0].count=o.data[0].orders,this.objCountData[1].count=o.data[0].shippingAmount,this.objCountData[2].count=o.data[0].cashOnDelivery,this.objCountData[3].count=o.data[0].cancelled):this._toastr.error(o.errors[0],"Dashboard")})}GetOrderStatusChart(){let o=[],e=["Date"];this._httpService.get(h.N.BASE_API_PATH+"PaymentMaster/GetChartOrderStatus").subscribe(g=>{if(g.isSuccess){let l=g.data,U=l.map(s=>s.date).filter((s,d,i)=>i.indexOf(s)===d),c=l.map(s=>s.orderStatus).filter((s,d,i)=>i.indexOf(s)===d);for(let s of c)e.push(s);o.push(e);for(let s of U){e=[],e.push(s);for(let d of c)e.push(0);for(let d in c)for(let i in l)c[d]===l[i].orderStatus&&s===l[i].date&&(e[parseInt(d)+1]=l[i].counts);o.push(e)}this.orderStatusChart={chartType:"ColumnChart",dataTable:o,options:{legend:{position:"none"},bars:"vertical",vAxis:{format:"decimal"},height:340,width:"100%",colors:["#ff7f83","#a5a5a5"],backgroundColor:"transparent"}}}else this._toastr.error(g.errors[0],"Dashboard")})}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(C.O),t.Y36(D._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard"]],decls:20,vars:4,consts:[[1,"container-fluid"],[1,"row"],["class","col-xl-3 col-md-6 xl-50",4,"ngFor","ngForOf"],[1,"col-xl-12","xl-100"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"user-status","table-responsive","latest-order-table"],["id","batchDelete",1,"category-table","custom-datatable","transcation-datatable"],[1,"table-responsive"],[3,"settings","source"],[1,"col-sm-12"],[1,"card-body","sell-graph"],[3,"ngIf"],[1,"col-xl-3","col-md-6","xl-50"],[1,"card","o-hidden","widget-cards"],[1,"media","static-top-widget","row"],[1,"icons-widgets","col-4"],[1,"align-self-center","text-center"],[3,"icon"],[1,"media-body","col-8"],[1,"m-0"],[1,"mb-0"],[1,"counter",3,"CountTo","from","duration"],[3,"data"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,S,15,9,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),t._uU(7,"Latest Orders"),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),t._UZ(12,"ng2-smart-table",10),t.qZA()()()()()(),t.TgZ(13,"div",11)(14,"div",4)(15,"div",5)(16,"h5"),t._uU(17,"Order Status"),t.qZA()(),t.TgZ(18,"div",12),t.YNc(19,A,1,1,"ng-template",13),t.qZA()()()()()),2&o&&(t.xp6(2),t.Q6J("ngForOf",e.objCountData),t.xp6(10),t.Q6J("settings",e.settings)("source",e.orders),t.xp6(7),t.Q6J("ngIf",e.orderStatusChart))},dependencies:[u.sg,u.O5,y.T,f.x,b.T5,v.P4]}),a})()}];let O=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.Bz.forChild(T),p.Bz]}),a})();var x=r(4466),Z=r(433);let P=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,O,x.m,Z.UX,f.P,b.ne,v.Ye]}),a})()}}]);